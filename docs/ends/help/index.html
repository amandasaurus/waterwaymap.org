<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- HTML Meta Tags -->
    <title>WaterwayMap.org - End points</title>
    <meta
      name="description"
      content="Where water flows in OpenStreetMap, and where it ends. Map of end points of waterways in OSM. QA & Data analysis tool."
    />

    <link rel="icon" href="data:," />
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" href="/maplibre-gl-2.4.0.css" />

    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://waterwaymap.org/ends/help/" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="WaterwayMap.org - End points - Help" />
    <meta
      property="og:description"
      content="Where water flows in OpenStreetMap, and where it ends. Map of end points of waterways in OSM. QA & Data analysis tool."
    />
    <meta property="og:image" content="" />
  </head>

  <body>
    <header>
      <h1 class="inline_centre" style="margin: 0; margin-top: 0.3ch">
        <img
          src="/img/osm.png"
          alt="OpenStreetMap logo"
          style="height: 1em"
        /><span>üèûÔ∏è WaterwayMap: End points</span>
      </h1>
    </header>

    <main style="max-width: 120ch">
      <h2>About WWM.org End points</h2>

      <p>
        Within OpenStreetMap, all ways are an ordered list of nodes, i.e. all
        ways have a direction. Mostly this is ignored. Waterways (rivers,
        streams, etc.) are mapped as a ways, with a `waterway` tag. The
        direction of flow is the way direction. Looking at individual node
        objects, rather than way objects, we can see other nodes that it is
        connected to (with `waterway` way objects), and see waterways going into
        this node (from other nodes), and going out of this node (to other
        nodes).
      </p>

      <p>
        When a node has no ‚Äúincoming water‚Äù, the upstream is 0. The upstream
        value is then shared equally to all the outgoing nodes (with the
        addition of the length between this node and the outgoing nodes).
      </p>
      <p>
        Each dot shows a node, where a <code>waterway</code> way ends, without
        any outgoing node. The number is the total length of upstream waterways
        which end at that point. The size of the dot is based on that. This is
        an ‚Äúend point‚Äù. Waterway end points should happen normally. There will
        be a waterway end point where a river enters the sea.
      </p>

      <p>
        When a waterway split, the upstream value is shared equally between all
        nodes. If the waterway rejoins, the values will all be combined together
        sensibly.
      </p>

      <p>
        If a large waterway, has a tiny little way going off it, then half the
        upstream value will go there. This could be a tagging mistake. This is
        visible as a large end point.
      </p>

      <p>
        Cycles (aka Loops) in waterways are simplified before upstreams are
        calculated. WWM
        <a href="https://waterwaymap.org/loops/">shows loops</a>. Theses should
        probably be fixed in OSM.
      </p>

      <h2>See also</h2>
      <ul>
        <li><a href="https://waterwaymap.org/">Main WaterwayMap.org</a></li>
        <li>
          <a href="https://waterwaymap.org/ends/">WaterwayMap.org End Points</a>
        </li>
        <li>
          <a href="https://waterwaymap.org/loops/"
            >WaterwayMap Loop detection</a
          >
        </li>
        <li>
          <a href="https://github.com/amandasaurus/waterwaymap.org"
            >Source code on github <code>amandasaurus/waterwaymap.org</code></a
          >. Feel free to report problems here too
        </li>
        <li>
          <a href="https://github.com/amandasaurus/osm-lump-waps"
            ><code>osm-lump-ways</code>: Software which creates this OSM way
            connections</a
          >. The data is created by this tool, but it can be used for other
          things too
        </li>
        <li>
          <a href="https://en.osm.town/@amapanda/tagged/WaterwayMapOrg"
            >News &amp; Updates about WaterwayMapOrg</a
          >
          on Mastodon/Fediverse
        </li>
      </ul>
    </main>

    <footer class="inline_centre" style="padding: 0.5ch; font-size: smaller">
      <span>
        Map Data
        <img src="/img/osm.png" alt="OpenStreetMap logo" style="height: 1em" />
        <a href="https://www.openstreetmap.org"
          >¬©¬†OpenStreetMap¬†contributors</a
        >
        (<a href="https://www.openstreetmap.org/copyright">open data licence</a
        >).
      </span>
      <span>
        üìú source
        <a href="https://github.com/amandasaurus/waterwaymap.org"
          ><code>amandasaurus/waterwaymap.org</code> on github</a
        >
      </span>
      <span>
        <a
          href="mailto:Amanda%20McCann%20<amanda@technomancy.org>?subject=waterwaymap.org%20contact"
          >üìß report problem</a
        >
      </span>
      <span>
        <a href="https://en.osm.town/@amapanda/tagged/WaterwayMapOrg"
          >Updates on Social Media: <code>#WaterwayMapOrg</code> from
          @amapanda@en.osm.town</a
        >
      </span>
    </footer>
  </body>
</html>
